<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Requirements from tests — requirements_from_tests • mrgvalprep</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Requirements from tests — requirements_from_tests"><meta property="og:description" content="If you were previously linking stories directly to tests, and
you would like to begin using requirements, use req_df_from_tests() and
req_df_to_yaml() to create a requirements YAML file that parses
requirement descriptions from test names. Then use
stories_replace_tests_with_reqs() to edit your stories YAML to reference
the newly created requirements."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mrgvalprep</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/basic_usage.html">Basic Usage of mrgvalprep and mrgvalidate</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/metrumresearchgroup/mrgvalprep" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Requirements from tests</h1>
    
    <div class="hidden name"><code>requirements_from_tests.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>If you were previously linking stories directly to tests, and
you would like to begin using requirements, use <code>req_df_from_tests()</code> and
<code>req_df_to_yaml()</code> to create a requirements YAML file that parses
requirement descriptions from test names. Then use
<code>stories_replace_tests_with_reqs()</code> to edit your stories YAML to reference
the newly created requirements.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">req_df_from_tests</span><span class="op">(</span><span class="va">test_df</span><span class="op">)</span>

<span class="fu">req_df_to_yaml</span><span class="op">(</span><span class="va">req_df</span>, <span class="va">out_file</span><span class="op">)</span>

<span class="fu">stories_replace_tests_with_reqs</span><span class="op">(</span><span class="va">stories_file</span>, <span class="va">req_spec</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>test_df</dt>
<dd><p>Tibble of tests results, as returned from
<code><a href="parse_testthat_list_reporter.html">parse_testthat_list_reporter()</a></code> or <code><a href="parse_golang_test_json.html">parse_golang_test_json()</a></code></p></dd>
<dt>req_df</dt>
<dd><p>Tibble of requirements, as returned from <code>req_df_from_tests()</code>.</p></dd>
<dt>out_file</dt>
<dd><p>Path to write requirements YAML file to.</p></dd>
<dt>stories_file</dt>
<dd><p>Path to write stories YAML file that will be modified on
disk.</p></dd>
<dt>req_spec</dt>
<dd><p>Tibble of requirements, as returned from <code>req_df_from_tests()</code>.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Note that these functions are designed to help you convert a repo
that previously did <em>not</em> use requirements into one that does. They are not
meant for continued use after that. Going forward, requirements should be
specified in the requirements YAML file, instead of being pull through from
test names</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>req_df_from_tests</code>: Create new requirements tibble from test
results tibble.</p></li>
<li><p><code>req_df_to_yaml</code>: Write requirements YAML file from
requirements tibble.</p></li>
<li><p><code>stories_replace_tests_with_reqs</code>: Modify existing stories YAML to reference
new requirements instead of tests.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># run your test suite to get a tibble of test names and IDs</span></span>
<span class="r-in"><span class="va">test_res</span> <span class="op">&lt;-</span> <span class="fu">mrgvalprep</span><span class="fu">::</span><span class="fu"><a href="parse_testthat_list_reporter.html">parse_testthat_list_reporter</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span>Reporter <span class="op">=</span> <span class="fu">testthat</span><span class="fu">::</span><span class="va"><a href="https://testthat.r-lib.org/reference/ListReporter.html" class="external-link">ListReporter</a></span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># create requirements tibble and write to new YAML</span></span>
<span class="r-in"><span class="va">req_df</span> <span class="op">&lt;-</span> <span class="fu">req_df_from_tests</span><span class="op">(</span><span class="va">test_res</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">req_df_to_yaml</span><span class="op">(</span><span class="va">req_df</span>, <span class="st">"inst/validation/requirements.yaml"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># edit existing stories YAML</span></span>
<span class="r-in"><span class="fu">stories_replace_tests_with_reqs</span><span class="op">(</span><span class="st">"inst/validation/stories.yaml"</span>, <span class="va">req_df</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Devin Pastoor, Seth Green, Kyle Meyer, Kyle T Baron, Sean Wilson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

